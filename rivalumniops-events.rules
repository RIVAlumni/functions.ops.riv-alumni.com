rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {
    match /{allPaths=**} {
      allow read, write: if false;

      match /thumbnails/{eventCode} {
        allow read: if eventCode.size() == 8 && resource.contentType in ['image/png', 'image/jpeg'];
        allow write: if request.auth == null;
      }
    }
  }
}
